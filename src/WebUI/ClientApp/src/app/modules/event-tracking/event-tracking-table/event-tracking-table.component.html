<ng-container *ngIf="events">
  <data-table
  #dataTable
  [dataSource]="dataSource"
  [columns]="displayedColumns"
  (onAddClickedEvent)="onCreate()"
  (oneRefreshClickedEvent)="loadEvents()"
  matSort
>
    <ng-container matColumnDef="eventname">
      <th mat-header-cell *matHeaderCellDef>Eventname</th>
      <td mat-cell *matCellDef="let row">{{ row.name }}</td>
    </ng-container>
    <ng-container matColumnDef="tag">
      <th mat-header-cell *matHeaderCellDef>Eventtag</th>
      <td mat-cell *matCellDef="let row">
        <span *ngFor="let tag of row.tag">{{ tag }}</span>
      </td>
    </ng-container>
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Termin</th>
      <td mat-cell *matCellDef="let row">
        {{ row.start | date: 'dd.MM.yy hh:mm' }} - {{ row.end | date: 'hh:mm' }}
      </td>
    </ng-container>
    <ng-container matColumnDef="attendances">
      <th mat-header-cell *matHeaderCellDef>Best√§tigte <br /> Teilnehmer</th>
      <td mat-cell *matCellDef="let row">
        {{ row.eventAnswers?.length ?? 0 }}
      </td>
    </ng-container>
    <ng-container matColumnDef="qrcode">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let row">
        <button
          class="event-edit"
          color="primary"
          mat-icon-button
          aria-label="open-qrcode"
          (click)="openEventDialog()"
        >
          <mat-icon>qr_code_2</mat-icon>
        </button>
      </td>
    </ng-container>
  </data-table>
</ng-container>
