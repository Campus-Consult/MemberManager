<mat-card>
  <mat-card-header>
    <mat-card-title>Deine Daten</mat-card-title>
  </mat-card-header>
  <ng-container *ngIf="memberData; else noData">
    <mat-card-content>
      <ng-container *ngIf="!isEditing; else MemberDetails">
        <div class="heading-margin">
          <app-member-data [memberDetails]="memberData"> </app-member-data>
        </div>
      </ng-container>
      <ng-template #MemberDetails>
        <div id="form-container">
          <form class="example-form" [formGroup]="personalForm">
            <div class="form-group">
              <p><mat-label>Persönliche Daten</mat-label></p>
              <mat-form-field appearance="outline">
                <mat-label>Vorname</mat-label>
                <input
                  type="text"
                  formControlName="firstName"
                  matInput
                  required
                />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nachname</mat-label>
                <input
                  type="text"
                  formControlName="lastName"
                  matInput
                  required
                />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Geschlecht</mat-label>
                <mat-select formControlName="gender" name="gender" required>
                  <mat-option
                    *ngFor="let gender of genders"
                    [value]="gender.value"
                  >
                    {{ gender.viewValue }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Geburtsdatum</mat-label>
                <input type="date" matInput formControlName="birthdate" />
              </mat-form-field>
            </div>
            <div class="form-group">
              <p><mat-label>Kontakt</mat-label></p>
              <mat-form-field appearance="outline">
                <mat-label>E-Mail (Campus Consult</mat-label>
                <input
                  type="email"
                  formControlName="emailAssociaton"
                  matInput
                  required
                />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>E-Mail (privat)</mat-label>
                <input
                  type="email"
                  formControlName="emailPrivate"
                  matInput
                  required
                />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Telefonnummer (privat)</mat-label>
                <input
                  type="tel"
                  formControlName="mobilePrivate"
                  matInput
                  placeholder="+49"
                />
              </mat-form-field>
            </div>
            <div class="form-group">
              <p><mat-label>Wohnort</mat-label></p>
              <mat-form-field appearance="outline">
                <mat-label>Straße</mat-label>
                <input type="text" formControlName="adressStreet" matInput />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Hausnummer</mat-label>
                <input formControlName="adressNr" matInput />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Postleitzahl</mat-label>
                <input maxlength="5" formControlName="adressZIP" matInput />
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Stadt</mat-label>
                <input
                  #postalCode
                  type="text"
                  formControlName="adressCity"
                  matInput
                  placeholder="Paderborn"
                />
              </mat-form-field>
            </div>
          </form>
        </div>
        <div class="error-hint" *ngIf="invalidHints">
          <app-error-hint
            [invalidHints]="invalidHints"
            [title]="errorHintTitle"
          ></app-error-hint>
        </div>
      </ng-template>
    </mat-card-content>
    <mat-card-actions>
      <div>
        <ng-container *ngIf="isEditing; else editButton">
          <button mat-button color="accent" (click)="onSubmit()">
            Anwenden
          </button>
          <button mat-button color="primary" (click)="changeEditMode()">
            Verwerfen
          </button>
        </ng-container>
        <ng-template #editButton>
          <button mat-raised-button color="accent" (click)="changeEditMode()">
            Eigene Daten Bearbeiten
          </button>
        </ng-template>
      </div>
    </mat-card-actions>
  </ng-container>
  <ng-template #noData>
    <mat-card-content>
      <p>
        Deine Daten sind aktuell nicht abrufbar. Versuche es später erneut oder
        benachrichtige einen Administrator.
      </p>
    </mat-card-content>
  </ng-template>
</mat-card>
